import PerfectScrollbar from 'perfect-scrollbar';
import IMask from 'imask';
import Cookies from 'js-cookie';
import tippy from 'tippy.js';
import 'tippy.js/dist/tippy.css';
import 'tippy.js/themes/light.css';
import Chart from 'chart.js';

const container = document.querySelector('.app-aside');
if (container){
    const ps = new PerfectScrollbar(container);
}

const dataScroll = document.querySelector('.last-data');
if (dataScroll){
    const ps = new PerfectScrollbar(dataScroll);
}

document.addEventListener('click', function (event) {
    if (!event.target.classList.contains('question-title')) return;

    let content = document.querySelector(event.target.hash);
    if (!content) return;

    event.preventDefault();

    if (content.classList.contains('active')) {
        content.classList.remove('active');
        return;
    }

    let accordions = document.querySelectorAll('.answer.active');
    for (let i = 0; i < accordions.length; i++) {
        accordions[i].classList.remove('active');
    }
    content.classList.toggle('active');
});

let macInput = document.querySelector('input[name="mac"]');
if (typeof(macInput) != 'undefined' && macInput != null){
    let macMask = IMask(
        document.querySelector('input[name="mac"]'), {
            mask: '**-**-**-**-**-**',
            definition: {
                // <any single char>: <same type as mask (RegExp, Function, etc.)>
                // defaults are '0', 'a', '*'
                '#': /[0-9A-F]/
            }
        }
    );
}

let badge = document.querySelector('.input-badge_password');
if (typeof(badge) != 'undefined' && badge != null) {
    badge.addEventListener('click', function (event) {
        event.preventDefault();
        if (this.classList.contains('password-hide')) {
            document.getElementById("password").setAttribute("type", "text");
            this.classList.remove('password-hide');
            this.classList.add('password-show');
        } else {
            document.getElementById("password").setAttribute("type", "password");
            this.classList.remove('password-show');
            this.classList.add('password-hide');
        }
    }, false);
}


const cookie = document.querySelector('.cookie');
if (typeof(cookie) != 'undefined' && cookie != null) {
    document.querySelector('.cookie-close').addEventListener('click', function () {
        cookie.classList.add('hide');
        Cookies.set('hideCookieMessage', '1', {expires: 120, path: '/'});
    });
}

// Tippy
tippy('[data-tippy-content]', {
    arrow: true,
    // delay: [1000, 200],
    theme: 'light',
    placement: 'bottom',
});

// Chart js
var ctx = document.getElementById('myChart').getContext('2d');
var myChart = new Chart(ctx, {
    type:'line',
    data: {
        labels: ['01:09:27', '01:11:49', '01:14:29', '01:16:50', '01:19:37', '01:21:52', '01:24:44', '01:26:53', '01:31:59', '01:34:57', '01:36:58', '01:40:05', '01:41:59', '01:45:14', '01:47:01', '01:50:20', '01:52:02', '01:57:04', '02:00:35', '02:02:05', '02:07:06', '02:10:49', '02:12:07', '02:15:57', '02:17:09', '02:22:11', '02:26:02', '02:27:11', '02:32:13', '02:36:20', '02:37:14', '02:41:26', '02:42:16', '02:46:33', '02:47:16', '02:51:36', '02:52:17', '02:56:43', '02:57:18', '03:01:52', '03:02:21', '03:06:59', '03:07:21', '03:12:22', '03:17:14', '03:17:23', '03:22:22', '03:22:25', '03:27:26', '03:27:26', '03:32:27', '03:32:33', '03:37:28', '03:42:30', '03:42:48', '03:47:31', '03:47:54', '03:52:32', '03:52:58', '03:57:33', '03:58:01', '04:02:35', '04:07:35', '04:08:10', '04:12:37', '04:13:19', '04:17:38', '04:22:40', '04:27:40', '04:32:41', '04:37:43', '04:42:43', '04:47:45', '04:52:46', '04:57:47', '05:02:49', '05:07:49', '05:12:50', '05:17:51', '05:22:52', '05:27:53', '05:32:55', '05:35:21', '05:37:56', '05:40:23', '05:42:57', '05:45:28', '05:47:58', '05:50:30', '05:52:59', '05:55:38', '05:58:00', '06:03:01', '06:08:03', '06:13:04', '06:18:05', '06:23:06', '06:28:07', '06:33:08', '06:38:10', '06:43:11', '06:48:12', '06:53:13', '06:58:15', '07:03:15', '07:08:17', '07:13:18', '07:18:20', '07:23:20', '07:28:22', '07:33:22', '07:38:23', '07:43:25', '07:48:26', '07:53:27', '07:58:28', '08:03:29', '08:08:30', '08:13:32', '08:18:32', '08:23:33', '08:28:35', '08:33:35', '08:38:36', '08:39:30', '08:43:38', '08:44:38', '08:48:39', '08:49:45', '08:53:40', '08:58:41', '09:03:42', '09:08:43', '09:13:44', '09:18:45', '09:23:47', '09:25:47', '09:28:49', '09:33:49', '09:35:51', '09:38:51', '09:40:57', '09:43:52', '09:45:56', '09:48:53', '09:51:03', '09:53:54', '09:56:05', '09:58:55', '10:01:05', '10:03:56', '10:06:09', '10:08:57', '10:11:10', '10:13:59', '10:16:12', '10:18:59', '10:21:13', '10:24:01', '10:26:16', '10:29:02', '10:31:16', '10:34:03', '10:36:22', '10:39:04', '10:41:22', '10:44:05', '10:46:24', '10:49:07', '10:51:26', '10:54:08', '10:56:29', '10:59:09', '11:01:30', '11:04:10', '11:06:35', '11:09:12', '11:11:34', '11:14:13', '11:16:40', '11:19:14', '11:21:45', '11:24:15', '11:26:46', '11:29:17', '11:31:45', '11:34:18', '11:36:51', '11:39:20', '11:41:52', '11:44:21', '11:46:56', '11:49:23', '11:51:55', '11:54:25', '11:56:56', '11:59:26', '12:02:00', '12:04:29', '12:07:01', '12:09:30', '12:12:02', '12:14:30', '12:17:03', '12:19:32', '12:22:05', '12:24:32', '12:27:07', '12:29:34', '12:32:08', '12:34:36', '12:37:14', '12:39:36', '12:42:13', '12:44:38', '12:47:15', '12:49:39', '12:52:21', '12:54:40', '12:57:25', '12:59:42', '13:02:24', '13:04:43', '13:07:25', '13:09:44', '13:12:28', '13:14:46', '13:17:30', '13:19:47', '13:22:32', '13:24:48', '13:27:36', '13:29:49', '13:32:38', '13:34:52', '13:37:40', '13:39:52', '13:42:43', '13:44:54', '13:47:44', '13:49:55', '13:52:52', '13:54:56', '13:57:53', '13:59:58', '14:02:54', '14:04:59', '14:10:01', '14:13:08', '14:15:02', '14:18:10', '14:20:04', '14:23:12', '14:25:04', '14:28:14', '14:30:08', '14:33:16', '14:35:08', '14:38:19', '14:40:09', '14:43:21', '14:45:10', '14:48:23', '14:50:12', '14:53:26', '14:55:13', '14:58:30', '15:00:22', '15:03:33', '15:05:20', '15:08:35', '15:10:21', '15:13:37', '15:15:23', '15:18:41', '15:20:24', '15:23:42', '15:25:25', '15:28:42', '15:30:26', '15:33:44', '15:35:28', '15:38:45', '15:40:30', '15:43:47', '15:45:31', '15:48:49', '15:50:32', '15:53:51', '15:55:33', '15:58:53', '16:00:35', '16:03:55', '16:05:36', '16:08:58', '16:10:37', '16:13:59', '16:15:39', '16:19:04', '16:20:40', '16:24:07', '16:25:41', '16:29:08', '16:30:43', '16:34:15', '16:35:44', '16:39:19', '16:40:45', '16:44:20', '16:45:47', '16:49:22', '16:50:49', '16:54:26', '16:55:51', '16:59:27', '17:00:52', '17:04:29', '17:05:53', '17:09:36', '17:10:55', '17:14:40', '17:15:56', '17:19:40', '17:20:57', '17:24:42', '17:25:58', '17:29:45', '17:31:00', '17:34:47', '17:36:01', '17:39:49', '17:41:02', '17:44:53', '17:46:04', '17:49:52', '17:51:05', '17:54:53', '17:56:06', '17:59:56', '18:01:08', '18:04:58', '18:06:08', '18:09:59', '18:11:10', '18:15:02', '18:16:12', '18:20:05'],
        datasets: [{
            label: false,
            data: [26.70, 24.50, 26.50, 24.60, 26.30, 24.80, 26.70, 24.80, 24.70, 26.40, 24.80, 26.30, 24.70, 26.40, 24.60, 26.30, 24.50, 24.40, 26.30, 24.50, 24.50, 26.00, 24.30, 26.00, 24.30, 24.10, 25.90, 24.00, 23.90, 26.10, 23.90, 26.40, 23.80, 26.40, 23.70, 26.40, 23.60, 26.30, 23.50, 25.90, 23.40, 25.70, 23.40, 23.40, 25.40, 23.30, 25.40, 23.20, 23.20, 25.40, 23.10, 25.30, 23.20, 23.10, 25.80, 23.00, 25.90, 23.00, 25.80, 22.90, 26.20, 22.80, 22.70, 25.30, 22.60, 25.20, 22.60, 22.50, 22.50, 22.40, 22.40, 22.20, 22.10, 22.10, 22.00, 22.00, 21.90, 22.00, 21.90, 21.80, 21.80, 21.80, 25.50, 21.80, 25.40, 21.80, 25.70, 21.70, 25.60, 21.70, 25.50, 21.60, 21.60, 21.60, 21.50, 21.40, 21.50, 21.40, 21.30, 21.30, 21.40, 21.40, 21.40, 21.50, 21.40, 21.40, 21.40, 21.40, 21.50, 21.60, 21.50, 21.60, 21.60, 21.60, 21.60, 21.60, 21.60, 21.70, 21.60, 21.40, 21.40, 21.40, 21.30, 21.30, 24.80, 21.30, 24.80, 21.30, 24.80, 21.30, 21.30, 21.20, 21.40, 21.60, 21.90, 22.00, 25.10, 22.00, 22.00, 26.00, 22.00, 26.20, 21.90, 26.40, 21.90, 26.40, 21.80, 26.20, 21.70, 26.50, 21.70, 26.40, 21.60, 26.30, 21.50, 26.30, 21.60, 26.10, 21.60, 26.20, 21.70, 26.00, 21.80, 26.20, 21.80, 26.30, 21.90, 26.20, 22.00, 26.20, 22.10, 25.80, 22.20, 25.70, 22.50, 25.70, 22.50, 26.20, 22.40, 26.50, 22.40, 26.60, 22.50, 26.50, 23.00, 26.20, 23.20, 25.80, 23.30, 26.30, 23.60, 26.50, 24.10, 26.60, 24.30, 26.60, 24.50, 26.80, 24.70, 26.40, 24.60, 25.90, 24.40, 25.80, 24.30, 25.80, 24.30, 25.80, 24.20, 25.80, 24.20, 25.90, 24.10, 26.00, 24.10, 26.10, 24.20, 26.00, 24.20, 26.00, 24.20, 25.90, 24.30, 25.70, 24.30, 25.60, 24.30, 25.70, 24.40, 26.40, 24.60, 26.70, 24.80, 26.80, 24.80, 26.90, 24.80, 27.00, 24.80, 27.10, 24.70, 27.20, 24.70, 27.30, 24.70, 27.30, 24.70, 24.70, 27.50, 24.70, 27.50, 24.70, 27.50, 24.70, 27.50, 24.80, 27.60, 24.90, 27.60, 24.90, 27.60, 24.90, 27.60, 24.90, 27.60, 24.80, 27.70, 24.80, 27.70, 25.00, 27.70, 25.10, 27.60, 25.30, 27.70, 25.40, 27.70, 25.50, 27.60, 25.60, 27.60, 25.70, 27.60, 25.80, 27.60, 25.90, 27.50, 25.90, 27.30, 25.80, 27.30, 25.80, 27.30, 25.80, 27.30, 25.70, 27.30, 25.60, 27.40, 25.60, 27.50, 25.50, 27.40, 25.50, 27.40, 25.50, 27.50, 25.60, 27.50, 25.50, 27.60, 25.50, 27.60, 25.50, 27.60, 25.50, 27.60, 25.50, 27.60, 25.40, 27.60, 25.30, 27.60, 25.30, 27.50, 25.30, 27.70, 25.20, 27.80, 25.20, 27.90, 25.20, 27.30, 25.10, 26.60, 24.80, 26.20, 24.50, 25.90, 24.40, 26.10, 24.40, 25.70, 24.40, 25.90, 24.40, 25.80],
            fill:false,
            borderColor: 'rgba(252, 92, 125, 1)',
            lineTension: 0.2,
            borderJoinStyle: 'round'
        }]
    },
    options: {
        elements: {
            point: { radius: 0 }
        },
        legend: {
            labels: {
                generateLabels: function(chart) { return ''; }
            }
        },
        scales: {
            yAxes: [{
                gridLines : { display : false },
                ticks: { display: false }
            }],
            xAxes: [{
                gridLines : { display : false },
                ticks: { display: false }
            }]
        }
    }
});
